# Copier configuration for SaaS Boilerplate
# https://copier.readthedocs.io/

_min_copier_version: "9.0.0"

_subdirectory: template

_templates_suffix: ""

# ====================
# Project Information
# ====================

project_name:
  type: str
  help: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåï¼ˆä¾‹: My SaaS Appï¼‰"
  validator: "{% if not project_name %}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¯å¿…é ˆã§ã™{% endif %}"

project_slug:
  type: str
  help: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒ©ãƒƒã‚°ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã«ä½¿ç”¨ï¼‰
  default: "{{ project_name | lower | replace(' ', '-') | replace('_', '-') }}"

project_description:
  type: str
  help: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª¬æ˜
  default: "AIé§†å‹•é–‹ç™ºã«æœ€é©åŒ–ã•ã‚ŒãŸSaaSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³"

author_name:
  type: str
  help: ä½œè€…å

author_email:
  type: str
  help: ä½œè€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  default: ""

# ====================
# AI Coding Agent Selection
# ====================

ai_coding_agent:
  type: str
  help: ä½¿ç”¨ã™ã‚‹AI Codingã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
  default: "both"
  choices:
    "both": "Claude Code + GitHub Copilot"
    "claude-code": "Claude Code ã®ã¿"
    "github-copilot": "GitHub Copilot ã®ã¿"

# ====================
# Optional Features
# ====================

include_e2e_tests:
  type: bool
  default: false
  help: Playwright E2Eãƒ†ã‚¹ãƒˆã‚’å«ã‚ã¾ã™ã‹ï¼Ÿ

include_advanced_auth:
  type: bool
  default: false
  help: Cognitoèªè¨¼ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ï¼ˆæœ¬ç•ªç”¨ï¼‰ã‚’å«ã‚ã¾ã™ã‹ï¼Ÿ

include_storage_adapter:
  type: bool
  default: false
  help: S3ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’å«ã‚ã¾ã™ã‹ï¼Ÿ

include_infrastructure:
  type: bool
  default: false
  help: AWS CDKã‚¤ãƒ³ãƒ•ãƒ©ã‚’å«ã‚ã¾ã™ã‹ï¼Ÿ

include_extended_docs:
  type: bool
  default: false
  help: è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ ã‚’å«ã‚ã¾ã™ã‹ï¼Ÿ

include_pr_checks:
  type: bool
  default: false
  help: PRãƒã‚§ãƒƒã‚¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å«ã‚ã¾ã™ã‹ï¼Ÿ

# ====================
# AWS Configuration (conditional)
# ====================

aws_region:
  type: str
  help: AWSãƒªãƒ¼ã‚¸ãƒ§ãƒ³
  default: ap-northeast-1
  when: "{{ include_infrastructure or include_advanced_auth }}"
  choices:
    - ap-northeast-1
    - ap-northeast-3
    - us-east-1
    - us-west-2
    - eu-west-1

# ====================
# Exclude patterns based on selections
# ====================

_exclude:
  # E2E tests
  - "{{ 'frontend/e2e' if not include_e2e_tests }}"
  - "{{ 'frontend/playwright.config.ts' if not include_e2e_tests }}"
  # Advanced auth adapters
  - "{{ 'backend/src/adapters/auth/cognito.py' if not include_advanced_auth }}"
  - "{{ 'backend/src/adapters/auth/base.py' if not include_advanced_auth }}"
  - "{{ 'backend/src/adapters/auth/factory.py' if not include_advanced_auth }}"
  # Storage adapters
  - "{{ 'backend/src/adapters/storage' if not include_storage_adapter }}"
  - "{{ 'backend/storage' if not include_storage_adapter }}"
  # Infrastructure
  - "{{ 'infrastructure' if not include_infrastructure }}"
  # Extended docs
  - "{{ 'docs/frontend' if not include_extended_docs }}"
  - "{{ 'docs/backend' if not include_extended_docs }}"
  - "{{ 'docs/infrastructure' if not include_extended_docs or not include_infrastructure }}"
  - "{{ 'docs/operations' if not include_extended_docs }}"
  # PR checks workflow
  - "{{ '.github/workflows/pr-check.yml' if not include_pr_checks }}"
  - "{{ '.github/labeler.yml' if not include_pr_checks }}"
  # Copilot instructions (based on ai_coding_agent)
  - "{{ '.github/copilot-instructions.md' if ai_coding_agent == 'claude-code' }}"
  # CLAUDE.md (based on ai_coding_agent)
  - "{{ 'CLAUDE.md' if ai_coding_agent == 'github-copilot' }}"
  - "{{ 'AGENTS.md' if ai_coding_agent == 'github-copilot' }}"

# ====================
# Tasks (post-generation hooks)
# ====================

_tasks:
  - "echo ''"
  - "echo 'âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ {{ project_name }} ã‚’ä½œæˆã—ã¾ã—ãŸï¼'"
  - "echo ''"
  - "echo 'ğŸ“‹ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †:'"
  - "echo '  1. cd {{ project_slug }}'"
  - "echo '  2. make setup'"
  - "echo '  3. make dev'"
  - "echo '  4. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹'"
  - "echo ''"
  - "echo 'ğŸ” ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼: test@example.com / password'"
  - "echo ''"
